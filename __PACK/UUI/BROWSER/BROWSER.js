UUI.BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c=n.img,l=n.title,p=void 0===n.spacing?0:n.spacing,f=n.href,s=n.target;o=A({style:{display:"block",textAlign:"center",cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},href:f,target:s}),void 0!==l&&o.prepend(i=DIV({c:void 0===l?"":l})),void 0!==c&&o.prepend(DIV({style:{marginBottom:void 0!==l?p:0},c:c})),e.setTitle=r=function(t){i.empty(),i.append(t)},e.getImg=a=function(){return c},e.getDom=u=function(){return o},e.tap=d=function(){void 0!==on&&void 0!==on.tap&&on.tap()}}}),UUI.BUTTON_H=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l=n.img,p=n.title,f=void 0===n.spacing?0:n.spacing,s=n.href,v=n.target,g=n.isImgRight;o=A({style:{display:"block",cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},href:s,target:v,c:[i=DIV({style:{flt:"left"},c:void 0===p?"":p}),CLEAR_BOTH()]}),void 0!==l&&(l.addStyle({flt:"left"}),void 0===l.getStyle("margin")&&void 0===l.getStyle("marginRight")&&l.addStyle(g!==!0?{marginRight:f}:{marginLeft:f}),g!==!0?o.prepend(l):i.after(l),r=EVENT({name:"resize"},function(){var t=i.getHeight();t>0&&i.addStyle({marginTop:(l.getHeight()-i.getHeight())/2})}),EVENT_ONCE({node:l,name:"load"},function(){r.fire()}),l.addShowHandler(function(){r.fire()}),l.addRemoveHandler(function(){r.remove()})),e.setTitle=a=function(t){i.empty(),i.append(t)},e.getImg=u=function(){return l},e.getDom=d=function(){return o},e.tap=c=function(){void 0!==on&&void 0!==on.tap&&on.tap()}}}),UUI.FULL_CHECKBOX=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f,s,v,g=n.name,y=n.label,m=n.value,S=n.wrapperStyle,E=n.inputStyle;o=DIV({style:{position:"relative"},on:{tap:function(t){i.toggleCheck(),t.stop()}},c:[i=INPUT({style:{flt:"left",marginRight:5},name:g,type:"checkbox",on:{tap:function(t){t.stop()}},value:m}),r=SPAN({style:{flt:"left",cursor:"pointer"},c:y}),CLEAR_BOTH()]}),o.isValidWrapper=!0,e.getDom=a=function(){return o},e.getName=u=function(){return g},e.getValue=d=function(){return i.getValue()},e.setValue=c=function(t){i.setValue(t)},e.select=l=function(){i.select()},e.blur=p=function(){i.blur()},e.addWrapperStyle=f=function(t){o.addStyle(t)},void 0!==S&&f(S),e.addInputStyle=s=function(t){i.addStyle(t)},void 0!==E&&s(E),e.on=v=function(t,e){i.on(t,e)}}}),UUI.FULL_INPUT=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f,s,v,g,y=n.name,m=n.type,S=n.placeholder,E=n.value,C=n.wrapperStyle,h=n.inputStyle;o=DIV({style:{padding:5,backgroundColor:"#FFF"},c:DIV({style:{position:"relative"},c:[SPAN({style:{visibility:"hidden"},c:"."}),i=INPUT({style:{position:"absolute",left:0,top:0,width:"100%",border:"none",background:"transparent"},name:y,type:m,value:E,placeholder:S})]}),on:{tap:function(){i.focus()}}}),o.isValidWrapper=!0,e.getInputDom=r=function(){return i},e.getDom=a=function(){return o},e.getName=u=function(){return y},e.getValue=d=function(){return i.getValue()},e.setValue=c=function(t){i.setValue(t)},e.select=l=function(){i.select()},e.focus=p=function(){i.focus()},e.blur=f=function(){i.blur()},e.addWrapperStyle=s=function(t){o.addStyle(t)},void 0!==C&&s(C),e.addInputStyle=v=function(t){i.addStyle(t)},void 0!==h&&v(h),e.on=g=function(t,e){i.on(t,e)}}}),UUI.FULL_SELECT=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f,s,v,g=n.name,y=n.value,m=n.options,S=n.wrapperStyle,E=n.selectStyle;o=DIV({style:{padding:5,backgroundColor:"#FFF",position:"relative"},c:i=SELECT({style:{width:"100%",border:"none"},name:g})}),o.isValidWrapper=!0,e.getDom=r=function(){return o},e.getName=a=function(){return g},e.getValue=u=function(){return i.getValue()},e.setValue=d=function(t){i.setValue(t)},void 0!==y&&d(y),e.select=c=function(){i.select()},e.blur=l=function(){i.blur()},e.addWrapperStyle=p=function(t){o.addStyle(t)},void 0!==S&&p(S),e.addSelectStyle=f=function(t){i.addStyle(t)},void 0!==E&&f(E),e.addOption=s=function(t){i.append(t)},void 0!==m&&EACH(m,function(t){s(t)}),e.on=v=function(t,e){i.on(t,e)}}}),UUI.FULL_SUBMIT=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r=void 0===n?void 0:n.value;o=INPUT({type:"submit",style:{display:"block",border:"none",width:"100%",padding:"10px 0",cursor:"pointer"}}),void 0!==r&&o.setValue(r),e.getDom=i=function(){return o}}}),UUI.FULL_TEXTAREA=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f,s,v,g,y=n.name,m=n.placeholder,S=n.value,E=n.wrapperStyle,C=n.textareaStyle;o=DIV({style:{padding:5,backgroundColor:"#FFF",position:"relative",height:100},c:i=TEXTAREA({style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"none"},name:y,placeholder:m,value:S})}),o.isValidWrapper=!0,e.getTextareaDom=r=function(){return i},e.getDom=a=function(){return o},e.getName=u=function(){return y},e.getValue=d=function(){return i.getValue()},e.setValue=c=function(t){i.setValue(t)},e.select=l=function(){i.select()},e.focus=p=function(){i.focus()},e.blur=f=function(){i.blur()},e.addWrapperStyle=s=function(t){o.addStyle(t)},void 0!==E&&s(E),e.addTextareaStyle=v=function(t){i.addStyle(t)},void 0!==C&&v(C),e.on=g=function(t,e){i.on(t,e)}}}),UUI.FULL_UPLOAD_FORM=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f,s,v,g=n.box,y=n.wrapperStyle,m=n.formStyle,S=n.inputStyle,E=n.uploadingStyle,C=n.uploadOverSizeFile,h=n.uploadSuccess;o=DIV({style:{padding:5,background:"#FFF",position:"relative"},c:[a=IFRAME({style:{display:"none"},name:"__UPLOAD_FORM_"+e.id}),u=UUI.PANEL({wrapperStyle:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"none"},contentStyle:{backgroundColor:"#000",position:"absolute",top:"50%",left:"50%",width:100,marginLeft:-55,marginTop:-13,padding:5,textAlign:"center",borderRadius:10,color:"#fff"},c:"Uploading..."})]}),GET("__UPLOAD_SERVER_HOST",function(t){var n=global.location.protocol+"//"+global.location.host+"/__UPLOAD_CALLBACK";a.after(i=FORM({action:"http://"+(""===t?global.location.hostname:t)+":"+CONFIG.webServerPort+"/__UPLOAD?boxName="+g.boxName+"&callbackURL="+n,target:"__UPLOAD_FORM_"+e.id,method:"POST",enctype:"multipart/form-data",style:COMBINE([{padding:5},m]),c:[r=INPUT({type:"file",isMultiple:!0,style:COMBINE([{width:"100%",height:"100%",color:"#000",border:"none"},S])}),INPUT({type:"submit",style:{visibility:"hidden",position:"absolute"}})]})),i.isValidWrapper=!0,EVENT({node:r,name:"change"},function(){""!==r.getValue()&&(u.show(),void 0!==i&&i.submit(!0))})}),EVENT({node:a,name:"load"},function(){var t,n=global["__UPLOAD_FORM_"+e.id],o=void 0!==n?n.fileDataSetStr:void 0,i=void 0!==n?n.maxUploadFileMB:void 0;void 0!==i?(void 0!==C&&C(i),r.setValue("")):void 0!==o&&(t=PARSE_STR(decodeURIComponent(o)),EACH(t,function(e,n){t[n]=UNPACK_DATA(e)}),void 0!==h&&h(t),r.setValue("")),u.hide()}),e.getDom=d=function(){return o},e.select=c=function(){void 0!==r&&r.select()},e.addWrapperStyle=l=function(t){o.addStyle(t)},void 0!==y&&l(y),e.addFormStyle=p=function(t){void 0!==i?i.addStyle(t):EXTEND({origin:m,extend:t})},void 0!==m&&p(m),e.addInputStyle=f=function(t){void 0!==r?r.addStyle(t):EXTEND({origin:S,extend:t})},void 0!==S&&f(S),e.addUploadingStyle=s=function(t){u.addWrapperStyle(t)},void 0!==E&&s(E),e.on=v=function(t,e){r.on(t,e)}}}),UUI.IMG_BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u=n.img,d=n.href,c=n.target;o=A({style:{cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},href:d,target:c,c:u}),e.getImg=i=function(){return u},e.getDom=r=function(){return o},e.tap=a=function(){o.tap()}}}),UUI.LIST=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p=void 0===n?void 0:n.isRequiringClearBoth,f=[],s={};void 0===i&&(i={}),o=UL(),e.getDom=a=function(){return o},e.addItem=u=function(t){var e=t.key,n=t.item,a=t.isFirst;void 0!==i[e]?(n.insertBefore(i[e]),f[FIND({array:f,value:i[e]})]=n,i[e].remove()):a===!0&&f.length>0?(n.insertBefore(f[0]),f.unshift(n)):(o.append(n),f.push(n)),i[e]=n,p===!0&&(void 0!==r&&r.remove(),r=CLEAR_BOTH().appendTo(o))},void 0!==n&&void 0!==n.items&&EACH(n.items,function(t,e){u({key:e,item:t})}),e.removeItem=d=function(t){var e=i[t],n=s[t];void 0!==e&&e.remove(),void 0!==n&&EACH(n,function(t){t()}),REMOVE({array:f,value:e}),REMOVE({array:i,key:t}),REMOVE({array:s,key:t})},e.addRemoveItemHandler=c=function(t,e){void 0===s[t]&&(s[t]=[]),s[t].push(e)},e.removeAllItems=l=function(){EACH(i,function(t,e){var n=s[e];t.remove(),void 0!==n&&EACH(n,function(t){t()})}),i={},f=[],s={}}}}),UUI.LOADING=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f,s,v=n.wrapperStyle,g=n.contentStyle,y=n.indicator,m=n.msg,S=n.on;o=UUI.MODAL({wrapperStyle:COMBINE([{textAlign:"center"},v]),contentStyle:g,isCannotClose:!0,c:[void 0===y?"":y,P({style:void 0===y?{}:{marginTop:10},c:m})],on:S}),e.getDom=i=function(){return o.getDom()},e.append=r=function(t){o.append(t)},e.prepend=a=function(t){o.prepend(t)},e.after=u=function(t){o.after(t)},e.before=d=function(t){o.before(t)},e.remove=c=function(){o.remove()},e.empty=l=function(){o.empty()},e.getChildren=p=function(){return o.getChildren()},e.addWrapperStyle=f=function(t){o.addWrapperStyle(t)},e.addContentStyle=s=function(t){o.addContentStyle(t)}}}),UUI.MODAL=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f,s,v,g,y,m,S,E,C=void 0===n?void 0:n.c,h=void 0===n?void 0:n.wrapperStyle,A=void 0===n?void 0:n.contentStyle,D=void 0===n?void 0:n.xStyle,I=void 0===n?void 0:n.xImg,U=void 0===n?void 0:n.isCannotClose,O=void 0===n?void 0:n.on;void 0!==O&&EACH(O,function(t,n){O[n]=function(n){t(n,e)}}),void 0===I&&U!==!0&&(I=IMG({src:UUI.R("x.png")})),o=DIV({c:[i=DIV(),U===!0?"":UUI.IMG_BUTTON({style:COMBINE([{position:"absolute"},void 0===D?{top:-20,right:-20,padding:10}:D]),img:I,on:{tap:function(){E()},mouseover:function(){m({opacity:.8})},mouseout:function(){m({opacity:1})}}})],on:O}).appendTo(BODY),d=RAR(function(){var t,e=(WIN_WIDTH()-o.getWidth())/2+SCROLL_LEFT(),n=(WIN_HEIGHT()-o.getHeight())/2+SCROLL_TOP();o.addStyle({position:"absolute",left:0>e?0:e,top:0>n?0:n}),(t=function(e){EACH(e,function(e){e.type===IMG&&EVENT({node:e,name:"load"},function(){d()}),void 0!==e.getChildren&&t(e.getChildren())})})(o.getChildren())}),o.addShowHandler(d),r=EVENT({name:"resize"},d),a=EVENT({name:"scroll"},d),u=EVENT({name:"keydown"},function(t){27===t.getKeyCode()&&U!==!0&&E()}),o.addRemoveHandler(function(){r.remove(),a.remove(),u.remove()}),e.getDom=c=function(){return o},e.append=l=function(t){i.append(t),d()},void 0!==C&&(CHECK_IS_ARRAY(C)===!0?EACH(C,function(t){l(t)}):l(C)),e.prepend=p=function(t){i.prepend(t),d()},e.after=f=function(t){o.after(t),d()},e.before=s=function(t){o.before(t),d()},e.remove=v=function(){o.remove()},e.empty=g=function(){i.empty()},e.getChildren=y=function(){return i.getChildren()},e.addWrapperStyle=m=function(t){o.addStyle(t),d()},void 0!==h&&m(h),e.addContentStyle=S=function(t){i.addStyle(t),d()},void 0!==A&&S(A),e.close=E=function(){void 0!==O&&void 0!==O.close?O.close(e)!==!1&&v():v()}}}),UUI.NOTICE=CLASS({init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f,s,v=n.wrapperStyle,g=n.contentStyle,y=n.isCannotClose,m=n.on,S=n.msg;o=UUI.MODAL({wrapperStyle:COMBINE([{textAlign:"center"},v]),contentStyle:g,isCannotClose:!0,on:m,c:S}),e.getDom=i=function(){return o.getDom()},e.append=r=function(t){o.append(t)},e.prepend=a=function(t){o.prepend(t)},e.after=u=function(t){o.after(t)},e.before=d=function(t){o.before(t)},e.remove=c=function(){o.remove()},e.empty=l=function(){o.empty()},e.getChildren=p=function(){return o.getChildren()},e.addWrapperStyle=f=function(t){o.addWrapperStyle(t)},e.addContentStyle=s=function(t){o.addContentStyle(t)},y!==!0&&DELAY(2,function(){o.close()})}}),UUI.PANEL=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f=void 0===n?void 0:n.wrapperStyle,s=void 0===n?void 0:n.contentStyle;o=DIV({c:i=DIV()}),e.getDom=r=function(){return o},e.append=a=function(t){i.append(t)},e.prepend=u=function(t){i.prepend(t)},e.empty=d=function(){i.empty()},e.getChildren=c=function(){return i.getChildren()},e.addWrapperStyle=l=function(t){o.addStyle(t)},void 0!==f&&l(f),e.addContentStyle=p=function(t){i.addStyle(t)},void 0!==s&&p(s)}}),UUI.TABLE=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c=void 0===n?void 0:n.trs,l=[],p={};void 0===c&&(c={}),o=TABLE(),e.getDom=i=function(){return o},e.addTR=r=function(t){var e=t.key,n=t.tr,i=t.isFirst;void 0!==c[e]?(n.insertBefore(c[e]),l[FIND({array:l,value:c[e]})]=n,c[e].remove()):i===!0&&l.length>0?(n.insertBefore(l[0]),l.unshift(n)):(o.append(n),l.push(n)),c[e]=n},EACH(c,function(t){l.push(t),o.append(t)}),e.removeTR=a=function(t){var e=c[t],n=p[t];void 0!==e&&e.remove(),void 0!==n&&EACH(n,function(t){t()}),REMOVE({array:l,value:e}),REMOVE({array:c,key:t}),REMOVE({array:p,key:t})},e.addRemoveTRHandler=u=function(t,e){void 0===p[t]&&(p[t]=[]),p[t].push(e)},e.removeAllTRs=d=function(){EACH(c,function(t,e){var n=p[e];t.remove(),void 0!==n&&EACH(n,function(t){t()})}),c={},l=[],p={}}}}),UUI.TEXT_BUTTON=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d=n.title,c=n.href,l=n.target;o=A({style:{cursor:"pointer",textDecoration:"none",touchCallout:"none",userSelect:"none"},href:c,target:l,c:i=SPAN({c:void 0===d?void 0===c?"":c:d})}),e.setTitle=r=function(t){i.empty(),i.append(t)},e.getDom=a=function(){return o},e.tap=u=function(){o.tap()}}}),UUI.VALID_FORM=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l=void 0===n?void 0:n.errorMsgs,p=void 0===n?void 0:n.errorMsgStyle,f=[];o=FORM(),o.addRemoveHandler(function(){EACH(f,function(t){t.remove()})}),e.getDom=i=function(){return o},e.getData=r=function(){return o.getData()},e.setData=a=function(t){return o.setData(t)},e.submit=u=function(){o.submit()},e.showErrors=d=function(t){var n=COPY(t),o=function(t){EACH(t.getChildren(),function(t){var e,i,r,a;void 0!==t.getValue&&void 0!==t.getName&&(e=t.getName(),i=n[e],void 0!==i&&void 0!==l&&(r=l[e][i.type],"function"==typeof r&&(r=r(void 0!==i.validParam?i.validParam:i.validParams)),(t.getParent().getParent().isValidWrapper===!0?t.getParent().getParent():t.getParent().isValidWrapper===!0?t.getParent():t).after(a=P({style:p,c:r})),REMOVE({data:n,name:e}),f.push(DELAY(2,function(t){a.remove(),REMOVE({array:f,value:t})})))),o(t)})};o(e)},e.getErrorMsgs=c=function(t){var n=COPY(t),o=[],i=function(t){EACH(t.getChildren(),function(t){var e,r,a;void 0!==t.getValue&&void 0!==t.getName&&(e=t.getName(),r=n[e],void 0!==r&&void 0!==l&&(a=l[e][r.type],"function"==typeof a&&(a=a(void 0!==r.validParam?r.validParam:r.validParams)),o.push(a),REMOVE({data:n,name:e}))),i(t)})};return i(e),o}}}),UUI.V_CENTER=CLASS({preset:function(){"use strict";return NODE},init:function(t,e,n){"use strict";var o,i,r,a,u,d,c,l,p,f=void 0===n?void 0:n.wrapperStyle,s=void 0===n?void 0:n.contentStyle;o=TABLE({style:{width:"100%",margin:0,padding:0},c:TR({style:{margin:0,padding:0},c:i=TD({style:{margin:0,padding:0}})})}),e.getDom=r=function(){return o},e.append=a=function(t){i.append(t)},e.prepend=u=function(t){i.prepend(t)},e.empty=d=function(){i.empty()},e.getChildren=c=function(){return i.getChildren()},e.addWrapperStyle=l=function(t){o.addStyle(t)},void 0!==f&&l(f),e.addContentStyle=p=function(t){i.addStyle(t)},void 0!==s&&p(s)}});